@page "/marketdata/{symbol}"
@using AlpacaHerder.Shared
@inject HttpClient Http


@if (_marketData == null) {
    <h3>Market Data</h3>

    <span>Price is loading for @Symbol...</span>
} else {
    <h3>Market Data - @Symbol.ToUpper()</h3>

    <span>Last Trade Price is currently @_marketData.LastPrice</span>
}

@code {
    [Parameter]
    public string Symbol { get; set; }

    private MarketData _marketData;

    protected override async Task OnInitializedAsync() {
        _marketData = await Http.GetFromJsonAsync<MarketData>($"api/marketdata/{Symbol}");
    }
}